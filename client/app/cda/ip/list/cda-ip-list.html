<section>
    <header>
        <p data-translate="cda_ip_ip_definition"></p>
        <p data-translate="cda_ip_permission_definition"></p>
    </header>
    <div>
        <button type="button"
                class="oui-button oui-button_secondary"
                data-ng-click="CdaIpListCtrl.openAddModal()"
                data-ng-if="!CdaIpListCtrl.loading">
            <span data-translate="cda_ip_add_button_text"></span>
        </button>
    </div>
    <div class="text-center" data-ng-if="CdaIpListCtrl.loading">
        <oui-loader size="m" class="d-inline-block"></oui-loader>
    </div>
    <div class="table-responsive-vertical">
        <table data-ng-if="!CdaIpListCtrl.loading" 
               class="oui-table oui-table_responsive">
            <thead class="oui-table__headers">
                <tr>
                    <th class="oui-table__header">
                        <span data-translate="cda_ip_table_col_network"></span>
                    </th>
                    <th class="oui-table__header"></th>
                </tr>
            </thead>
            <tbody class="oui-table__body">
                <tr class="oui-table__row" 
                    data-ng-if="CdaIpListCtrl.datas.ips.length" 
                    data-ng-repeat="ip in CdaIpListCtrl.datas.paginatedIps track by ip.id">
                    <td class="oui-table__cell" data-title="{{ 'cda_ip_table_col_network' | translate }}">
                        <span data-ng-bind=" ::ip.network"></span>
                        /
                        <span data-ng-bind=" ::ip.netmask"></span>
                    </td>
                    <td class="oui-table__cell oui-table__cell_action" data-title="{{ 'cda_ip_table_col_actions' | translate }}">
                        <button type="button" 
                                class="no-style"
                                data-ng-click="CdaIpListCtrl.openDeleteModal(ip)"
                                data-uib-tooltip="{{:: 'cda_ip_delete_button_text' | translate }}">
                            <i class="glyphicon glyphicon-trash"></i>
                        </button>
                    </td>
                </tr>
                <tr class="oui-table__row" data-ng-if="!CdaIpListCtrl.datas.ips.length">
                    <td data-title="cda_ip_table_empty" 
                        colspan="2"
                        class="oui-table__cell">
                        <span data-translate="cda_ip_table_empty"></span>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="table-pretty-pagination top-space-m12"
             data-ng-hide="CdaIpListCtrl.loading"
             data-pagination-front
             data-items="CdaIpListCtrl.datas.ips"
             data-paginated-items="CdaIpListCtrl.datas.paginatedIps"
             data-current-page="currentPage"
             data-nb-pages="nbPages"
             data-items-per-page="itemsPerPage"
             data-page-placeholder="{{ 'common_pagination_page' | translate:{currentPage: currentPage, nbPages : nbPages} }}"
             data-item-per-page-placeholder="{{ 'common_pagination_display' | translate }}">
        </div>
    </div>
</section>